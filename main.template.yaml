AWSTemplateFormatVersion: '2010-09-09'
Description: Root template to visualize all stacks together.

Resources:
  NetworkStack:
    Type: AWS::CloudFormation::Stack
    Metadata:
      cfn-lint:
        config:
          ignore_checks:
            - W3002
    Properties:
      TemplateURL: ./network-stack.template.yaml

  SecurityStack:
    Type: AWS::CloudFormation::Stack
    Metadata:
      cfn-lint:
        config:
          ignore_checks:
            - W3002
    Properties:
      TemplateURL: ./security-stack.template.yaml
      Parameters:
        VpcId: !GetAtt NetworkStack.Outputs.VpcId

Metadata:
  AWS::Composer::Groups:
    Group:
      Label: Group
      Members:
        - NetworkStack